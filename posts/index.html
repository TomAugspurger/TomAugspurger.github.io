<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Tom's Blog</title><meta name=keywords content><meta name=description content="Posts - Tom's Blog"><meta name=author content><link rel=canonical href=https://tomaugspurger.github.io/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.3690c96d8a707265a16abd3b389bb33e4e3916869c3142cba43a3cfaaed4b5f9.css integrity="sha256-NpDJbYpwcmWhar07OJuzPk45FoacMULLpDo8+q7Utfk=" rel="preload stylesheet" as=style><link rel=icon href=https://tomaugspurger.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://tomaugspurger.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://tomaugspurger.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://tomaugspurger.github.io/apple-touch-icon.png><link rel=mask-icon href=https://tomaugspurger.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://tomaugspurger.github.io/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://tomaugspurger.github.io/posts/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://tomaugspurger.github.io/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://tomaugspurger.github.io accesskey=h title="Tom's Blog (Alt + H)">Tom's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://tomaugspurger.github.io/about/ title=About><span>About</span></a></li><li><a href=https://tomaugspurger.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://tomaugspurger.github.io/index.xml title=RSS><span>RSS</span></a></li><li><a href=https://tomaugspurger.github.io/tags title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2>National Water Model on Azure</h2></header><div class=entry-content><p>A few colleagues and I recently presented at the CIROH Training and Developers Conference. In preparation for that I created a Jupyter Book. You can view it at https://tomaugspurger.github.io/noaa-nwm/intro.html I created a few cloud-optimized versions for subsets of the data, but those will be going away since we don’t have operational pipelines to keep them up to date. But hopefully the static notebooks are still helpful.
Lessons learned Aside from running out of time (I always prepare too much material for the amount of time), I think things went well....</p></div><footer class=entry-footer><span title='2023-05-25 12:04:06 -0500 -0500'>May 25, 2023</span></footer><a class=entry-link aria-label="post link to National Water Model on Azure" href=https://tomaugspurger.github.io/posts/noaa-nwm/></a></article><article class=post-entry><header class=entry-header><h2>Jupyter, STAC, and Tool Building</h2></header><div class=entry-content><p>Over in Planetary Computer land, we’re working on bringing Sentinel-5P into our STAC catalog.
STAC items require a geometry property, a GeoJSON object that describes the footprint of the assets. Thanks to the satellites’ orbit and the (spatial) size of the assets, we started with some…interesting… footprints:
That initial footprint, shown in orange, would render the STAC collection essentially useless for spatial searches. The assets don’t actually cover (most of) the southern hemisphere....</p></div><footer class=entry-footer><span title='2023-04-15 08:00:00 -0500 -0500'>April 15, 2023</span></footer><a class=entry-link aria-label="post link to Jupyter, STAC, and Tool Building" href=https://tomaugspurger.github.io/posts/jupyter-stac-browser/></a></article><article class=post-entry><header class=entry-header><h2>py-spy in Azure Batch</h2></header><div class=entry-content><p>Today, I was debugging a hanging task in Azure Batch. This short post records how I used py-spy to investigate the problem.
Background Azure Batch is a compute service that we use to run container workloads. In this case, we start up a container that processes a bunch of GOES-GLM data to create STAC items for the Planetary Computer . The workflow is essentially a big
for url in urls: local_file = download_url(url) stac....</p></div><footer class=entry-footer><span title='2023-02-22 15:11:37 -0600 -0600'>February 22, 2023</span></footer><a class=entry-link aria-label="post link to py-spy in Azure Batch" href=https://tomaugspurger.github.io/posts/azure-batch-pyspy/></a></article><article class=post-entry><header class=entry-header><h2>Dask-GeoPandas Spatial Partitioning Performance</h2></header><div class=entry-content><p>A college reached out yesterday about a performance issue they were hitting when working with the Microsoft Building Footprints dataset we host on the Planetary Computer. They wanted to get the building footprints for a small section of Turkey, but noticed that the performance was relatively slow and it seemed like a lot of data was being read.
This post details how we debugged what was going on, and the steps we took to fix it....</p></div><footer class=entry-footer><span title='2023-02-09 08:10:59 -0600 -0600'>February 9, 2023</span></footer><a class=entry-link aria-label="post link to Dask-GeoPandas Spatial Partitioning Performance" href=https://tomaugspurger.github.io/posts/dask-geopandas-partitions/></a></article><article class=post-entry><header class=entry-header><h2>Planetary Computer Release: January 2023</h2></header><div class=entry-content><p>The Planetary Computer made its January 2023 release a couple weeks back.
The flagship new feature is a really cool new ability to visualize the Microsoft AI-detected Buildings Footprints dataset. Here’s a little demo made by my teammate, Rob:
Your browser doesn't support HTML video. Here is a link to the video instead. Currently, enabling this feature required converting the data from its native geoparquet to a lot of protobuf files with Tippecanoe....</p></div><footer class=entry-footer><span title='2023-02-09 00:00:00 +0000 UTC'>February 9, 2023</span></footer><a class=entry-link aria-label="post link to Planetary Computer Release: January 2023" href=https://tomaugspurger.github.io/posts/pc-january-2023/></a></article><article class=post-entry><header class=entry-header><h2>Cloud Optimized Vibes</h2></header><div class=entry-content><p>Over on the Planetary Computer team, we get to have a lot of fun discussions about doing geospatial data analysis on the cloud. This post summarizes some work we did, and the (I think) interesting conversations that came out of it.
Background: GOES-GLM The instigator in this case was onboarding a new dataset to the Planetary Computer, GOES-GLM. GOES is a set of geostationary weather satellites operated by NOAA, and GLM is the Geostationary Lightning Mapper, an instrument on the satellites that’s used to monitor lightning....</p></div><footer class=entry-footer><span title='2023-01-14 16:16:11 -0600 -0600'>January 14, 2023</span></footer><a class=entry-link aria-label="post link to Cloud Optimized Vibes" href=https://tomaugspurger.github.io/posts/cloud-optimized-quandary/></a></article><article class=post-entry><header class=entry-header><h2>Queues in the News</h2></header><div class=entry-content><p>I came across a couple of new (to me) uses of queues recently. When I came up with the title to this article I knew I had to write them up together.
Queues in Dask Over at the Coiled Blog, Gabe Joseph has a nice post summarizing a huge amount of effort addressing a problem that’s been vexing demanding Dask users for years. The main symptom of the problem was unexpectedly high memory usage on workers, leading to crashing workers (which in turn caused even more network communication, and so more memory usage, and more crashing workers)....</p></div><footer class=entry-footer><span title='2022-12-26 13:35:24 -0600 -0600'>December 26, 2022</span></footer><a class=entry-link aria-label="post link to Queues in the News" href=https://tomaugspurger.github.io/posts/queues/></a></article><article class=post-entry><header class=entry-header><h2>My 2022 Year in Books</h2></header><div class=entry-content><p>It’s “Year in X” time, and here’s my 2022 Year in Books on GoodReads. I’ll cover some highlights here.
Many of these recommendations came from the Incomparable’s Book Club, part of the main Incomparable podcast. In particular, episode 600 The Machine was a Vampire which is a roundup of their favorites from the 2010s.
Bookended by Murderbot Diaries I started and ended this year (so far) with a couple installments in the Murderbot Diaries....</p></div><footer class=entry-footer><span title='2022-12-21 07:25:47 -0600 -0600'>December 21, 2022</span></footer><a class=entry-link aria-label="post link to My 2022 Year in Books" href=https://tomaugspurger.github.io/posts/books-2022/></a></article><article class=post-entry><header class=entry-header><h2>Podcast: Revolutions</h2></header><div class=entry-content><p>Mike Duncan is wrapping up his excellent Revolutions podcast. If you’re at all interested in history then now is a great time to pick it up. He takes the concept of “a revolution” and looks at it through the lens of a bunch of revolutions throughout history. The appendix episodes from the last few weeks have really tied things together, looking at whats common (and not) across all the revolutions covered in the series....</p></div><footer class=entry-footer><span title='2022-12-20 16:56:57 -0600 -0600'>December 20, 2022</span></footer><a class=entry-link aria-label="post link to Podcast: Revolutions" href=https://tomaugspurger.github.io/posts/revolutions/></a></article><article class=post-entry><header class=entry-header><h2>Rebooting</h2></header><div class=entry-content><p>Like some others, I’m getting back into blogging.
I’ll be “straying from my lane” and won’t just be writing about Python data libraries (though there will still be some of that). If you too would like to blog more, I’d encourge you to read Simon Willison’s What to blog About and Matt Rocklin’s Write Short Blogposts.
Because I’m me, I couldn’t just make a new post. I also had to switch static site generators, just becauase....</p></div><footer class=entry-footer><span title='2022-12-18 16:51:46 -0600 -0600'>December 18, 2022</span></footer><a class=entry-link aria-label="post link to Rebooting" href=https://tomaugspurger.github.io/posts/rebooting/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://tomaugspurger.github.io/posts/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href=https://tomaugspurger.github.io>Tom's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><a rel=me href=https://mastodon.social/@TomAugspurger></a>
<script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>